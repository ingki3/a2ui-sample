{
  "surfaceUpdate": {
    "surfaceId": "restaurant_list",
    "components": [
      {
        "id": "{{ uid }}_root",
        "component": {
          "Column": {
            "children": {
              "explicitList": [
                "{{ uid }}_title",
                "{{ uid }}_result_count",
                {% for r in restaurants %}
                "{{ uid }}_rest_row_{{ loop.index }}"
                {% if not loop.last %},{% endif %}
                {% endfor %}
              ]
            }
          }
        }
      },
      {
        "id": "{{ uid }}_title",
        "component": { "Text": { "text": { "literalString": "üçΩÔ∏è Restaurants in {{ location }}" }, "usageHint": "h2" } }
      },
      {
        "id": "{{ uid }}_result_count",
        "component": { "Text": { "text": { "literalString": "Found {{ restaurants|length }} places matching your criteria." }, "usageHint": "caption" } }
      },
      
      {% for r in restaurants %}
      {
        "id": "{{ uid }}_rest_row_{{ loop.index }}",
        "component": {
            "Row": {
                "children": {
                    "explicitList": ["{{ uid }}_img_{{ loop.index }}", "{{ uid }}_info_col_{{ loop.index }}"]
                }
            }
        }
      },
      {
        "id": "{{ uid }}_img_{{ loop.index }}",
        "component": {
            "Image": {
                "url": { "literalString": "{{ r.image }}" },
                "altText": { "literalString": "{{ r.name }}" }
            }
        }
      },
      {
        "id": "{{ uid }}_info_col_{{ loop.index }}",
        "component": {
            "Column": {
                "children": {
                    "explicitList": ["{{ uid }}_name_{{ loop.index }}", "{{ uid }}_cuisine_{{ loop.index }}", "{{ uid }}_btn_{{ loop.index }}"]
                }
            }
        }
      },
      {
        "id": "{{ uid }}_name_{{ loop.index }}",
        "component": { "Text": { "text": { "literalString": "{{ r.name }}" }, "usageHint": "h3" } }
      },
      {
         "id": "{{ uid }}_cuisine_{{ loop.index }}",
         "component": { "Text": { "text": { "literalString": "Type: {{ r.cuisine }} ‚Ä¢ Rating: {{ r.rating }}‚≠ê" }, "usageHint": "body" } }
      },
      {
        "id": "{{ uid }}_btn_txt_{{ loop.index }}",
        "component": { "Text": { "text": { "literalString": "Book Table" }, "usageHint": "button_label" } }
      },
      {
        "id": "{{ uid }}_btn_{{ loop.index }}",
        "component": {
            "Button": {
                "child": "{{ uid }}_btn_txt_{{ loop.index }}",
                "action": {
                    "name": "reserveTable",
                    "context": [
                        { "key": "restaurantName", "value": { "literalString": "{{ r.name }}" } }
                    ]
                }
            }
        }
      }
      {% if not loop.last %},{% endif %}
      {% endfor %}
    ]
  },
  "dataModelUpdate": {
    "surfaceId": "restaurant_list",
    "contents": []
  },
  "beginRendering": {
    "surfaceId": "restaurant_list",
    "root": "{{ uid }}_root"
  }
}
